{"version":3,"file":"static/js/983.23d5b043.chunk.js","mappings":"qPAkBA,EAdqB,SAAC,GAAc,IAAZA,EAAW,EAAXA,KACtB,OACE,wBACGA,EACAC,KAAI,SAACC,GAAD,OACH,SAAC,KAAD,CAAqBC,GAAE,UAAKD,EAAME,IAAlC,UACE,uBAAIF,EAAMG,kBADDH,EAAME,GADd,KAOV,ECqED,EA9Ee,WACb,OAA0BE,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAAoCF,EAAAA,EAAAA,UAAS,IAA7C,eAAOG,EAAP,KAAmBC,EAAnB,KACA,GAA0BJ,EAAAA,EAAAA,UAAS,IAAnC,eAAOK,EAAP,KAAcC,EAAd,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KAGMb,EAAQY,EAAaE,IAAI,UAAY,IAG3CC,EAAAA,EAAAA,YAAU,WACHR,IAGLS,EAAAA,EAAAA,IAAQT,GACLU,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAb,IACbF,MAAK,SAAAnB,GAKJ,OAJ4B,IAAxBA,EAAKsB,QAAQC,QACfC,IAAAA,OAAAA,QAAwB,+BAGnBZ,EAASZ,EAAKsB,QACtB,IACAG,OAAM,SAAAC,GACLC,QAAQC,IAAIF,EACb,GACJ,GAAE,CAACjB,IAQJ,IAMMoB,EAAe,SAAAC,GACfrB,EAAWsB,SAAWD,GAG1BpB,EAAcoB,EACf,EASKE,EAAQ,WACZxB,EAAS,GACV,EAED,OACE,iCACE,kBAAMyB,SA1BW,SAAAC,GACnBA,EAAEC,iBACFN,EAAatB,GACbyB,GACD,EAsBiCI,aAAa,MAA3C,WACE,mBAAQC,KAAK,SAAb,UACE,wCAEF,kBACEA,KAAK,OACL9B,MAAOA,EACP+B,KAAK,SACLC,SArBa,SAAAL,GACnB1B,EAAS0B,EAAEM,cAAcjC,OAEzBQ,EAD6B,KAAVb,EAAe,CAAEA,MAAAA,GAAU,CAAC,EAGhD,EAiBOuC,YAAY,gCAIf9B,IAAU,SAAC,EAAD,CAAcX,KAAMW,MAGpC,C,uJClFD,IAAM+B,EAAU,mCACVC,EAAW,gCAEJC,EAAa,WACtB,OAAOC,MAAM,GAAD,OAAIF,EAAJ,sCAA0CD,GACzD,EAEYxB,EAAU,SAACT,GACpB,OAAOoC,MAAM,GAAD,OAAIF,EAAJ,gCAAoCD,EAApC,qDAAwFjC,GACvG,EAEYqC,EAAa,SAACC,GACvB,OAAOF,MAAM,GAAD,OAAIF,EAAJ,iBAAqBI,EAArB,oBAAuCL,EAAvC,mBACf,EAEYM,EAAc,SAACD,GACxB,OAAOF,MAAM,GAAD,OAAIF,EAAJ,iBAAqBI,EAArB,4BAA+CL,EAA/C,0BACf,EAEYO,EAAW,SAACF,GACrB,OAAOF,MAAM,GAAD,OAAIF,EAAJ,iBAAqBI,EAArB,4BAA+CL,EAA/C,mBACf,C","sources":["components/titleGallery/TitleGallery.jsx","components/pages/Movies.jsx","components/services/getMovies.js"],"sourcesContent":["import { Link } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\n\n\nconst TitleGallery = ({ data }) => {\n  return (\n    <ul>\n      {data\n      .map((query) => (\n        <Link key={query.id} to={`${query.id}`}>\n          <p>{query.original_title}</p>\n        </Link>\n      ))}\n    </ul>\n  );\n};\n\n\nexport default TitleGallery;\n\nTitleGallery.propTypes = {\n  query:PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    original_title:  PropTypes.string,\n  }))\n}","import React, { useEffect, useState } from 'react';\nimport { SearchM } from 'components/services/getMovies';\nimport Notiflix from 'notiflix';\nimport TitleGallery from 'components/titleGallery/TitleGallery';\nimport { useSearchParams } from 'react-router-dom';\n\nconst Movies = () => {\n  const [value, setValue] = useState('');\n  const [searchText, setSearchText] = useState('');\n  const [title, setTitle] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n\n\n  const query = searchParams.get('query') || \"\";\n\n\n  useEffect(() => {\n    if (!searchText) {\n      return;\n    }\n    SearchM(searchText)\n      .then(response => response.json())\n      .then(data => {\n        if (data.results.length === 0) {\n          Notiflix.Notify.failure('Sorry,but nothing was found');\n        }\n\n        return setTitle(data.results);\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  }, [searchText]);\n\n//   const updateQueryString = (query) => {\n//     const nextParams = query !== \"\" ? { query } : {};\n//     setSearchParams(nextParams);\n// };\n\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    handleSearch(value);\n    reset();\n  };\n\n  const handleSearch = searchTextе => {\n    if (searchText.trim() === searchTextе) {\n      return;\n    }\n    setSearchText(searchTextе);\n  };\n\n  const handleChange = e => {\n    setValue(e.currentTarget.value);\n    const nextParams = query !== \"\" ? { query } : {};\n    setSearchParams(nextParams);\n\n  };\n\n  const reset = () => {\n    setValue('');\n  };\n\n  return (\n    <>\n      <form onSubmit={handleSubmit} autoComplete=\"off\">\n        <button type=\"submit\">\n          <span>Search</span>\n        </button>\n        <input\n          type=\"text\"\n          value={value}\n          name=\"search\"\n          onChange={handleChange}\n          placeholder=\"Search images and photos\"\n        />\n      </form>\n\n      {title  && <TitleGallery data={title} />}\n    </>\n  );\n};\n\nexport default Movies;\n","const API_KEY = \"450e11a88d577b3ba488dedff52e79a6\"\nconst BASE_URL = \"https://api.themoviedb.org/3/\"\n\nexport const getMovies  = () => {\n    return fetch(`${BASE_URL}trending/movie/day?api_key=${API_KEY}`)\n}\n\nexport const SearchM = (searchText) => {\n    return fetch(`${BASE_URL}search/movie?api_key=${API_KEY}&language=en-US&include_adult=false&query=${searchText}`)\n}\n\nexport const SearchById = (moveid) => {\n    return fetch(`${BASE_URL}movie/${moveid}?api_key=${API_KEY}&language=en-US`)\n}\n\nexport const ReviewsById = (moveid) => {\n    return fetch(`${BASE_URL}movie/${moveid}/reviews?api_key=${API_KEY}&language=en-US&page=1`)\n}\n\nexport const CastById = (moveid) => {\n    return fetch(`${BASE_URL}movie/${moveid}/credits?api_key=${API_KEY}&language=en-US`)\n}"],"names":["data","map","query","to","id","original_title","useState","value","setValue","searchText","setSearchText","title","setTitle","useSearchParams","searchParams","setSearchParams","get","useEffect","SearchM","then","response","json","results","length","Notiflix","catch","error","console","log","handleSearch","searchTextе","trim","reset","onSubmit","e","preventDefault","autoComplete","type","name","onChange","currentTarget","placeholder","API_KEY","BASE_URL","getMovies","fetch","SearchById","moveid","ReviewsById","CastById"],"sourceRoot":""}